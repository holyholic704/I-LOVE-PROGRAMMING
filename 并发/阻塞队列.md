# 阻塞队列

## Queue

```java
public interface Queue<E> extends Collection<E> {
    
    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则抛出异常
    boolean add(E e);

    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则返回false
    boolean offer(E e);

    // 移除并返回队首元素，如果队列为空，则抛出异常
    E remove();

    // 移除并返回队首元素，如果队列为空，则返回null
    E poll();

    // 获得队首元素，如果队列为空，则抛出异常
    E element();

    // 获得队首元素，如果队列为空，则返回null
    E peek();
}
```

## BlockingQueue

```java
public interface BlockingQueue<E> extends Queue<E> {
    
    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则抛出异常
    boolean add(E e);

    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则返回false
    boolean offer(E e);

    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则会一直阻塞
    void put(E e) throws InterruptedException;

    // 向队列中添加一个元素，如果是一个有界队列且空间不足，则会等待一段时间，超时返回false
    boolean offer(E e, long timeout, TimeUnit unit)
        throws InterruptedException;

    // 移除并返回队首元素，如果队列为空，则会一直阻塞
    E take() throws InterruptedException;

    // 移除并返回队首元素，如果队列为空，会等待一段时间，超时返回null
    E poll(long timeout, TimeUnit unit)
        throws InterruptedException;

    // 返回该队列剩余可插入的元素数量，最大值为Integer.MAX_VALUE
    int remainingCapacity();

    // 从队列中移除与给定元素相等的元素，如果有多个，只移除第一个
    boolean remove(Object o);

    // 判断队列中是否存在给定的元素
    public boolean contains(Object o);

    // 移除队列中给定数量的元素，并将他们添加到给定的集合中
    int drainTo(Collection<? super E> c, int maxElements);
}
```

|  | 抛出异常 | 返回特殊值 | 阻塞 | 超时退出 |
| :-: | :-: | :-: | :-: | :-: |
| 插入 | add(e) | offer(e) | put(e) | offer(e, time, unit) |
| 移除 | remove() | poll() | take() | poll(time, unit) |
| 检查 | element() | peek() |  |  |


## 参考


